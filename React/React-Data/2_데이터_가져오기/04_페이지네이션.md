# 04. 페이지네이션

- 페이지네이션에 대한 이해를 한다.

<br/>

## 04.1. 페이지네이션 정의 및 특징

- 책의 페이지처럼 **데이터를 나눠서** 제공하는 것
  - EX. `더보기` 버튼을 누르면 다음 페이지가 보인다.
- 왜냐하면, 많은 양의 데이터를 제공할 때, 한번에 다 보이게 하면 너무 많은 데이터를 랜더링하기에는 시간소요가 된다. 

<br/>

### 04.1.1. 오프셋 기반 페이지네이션

- `오프셋(Offset)` 은 **"상쇄하다"** 라는 뜻이다. 즉, 지금까지 **받아온 데이터의 개수**를 의미한다. 

#### 1) Request

```js
GET https://example.com/posts?offset=20&limit10
```

- 지금까지 20개 받았고, 10개 더 보내줘라고 요청하는 것이다. 
- 쿼리에서 `offset=20`으로 지금까지 받아온 데이터가 20개라는 의미이다. 
- `limit10` 는 더 받아올 데이터의 개수를 의미한다. 

<br/>

#### 2) Response

```js
{
    "paging":{
        "count":30,
        "hasNext":false
    },
     "post":[...]
}
```

<br/>

### 04.1.2. 커서 기반 페이지네이션

- `커서(Curosr)` 는 **특정한 데이터를 가리키는 값**을 의미한다.  
- 즉, 지금까지 받은 데이터를 표시한 **책갈피**와 같다.

#### 1) Request

```js
GET https://example.com/posts?limit10
```

- 데이터 10개 보내달라는 말

<br/>

#### 2) Response

```js
{
    "paging":{
        "count":30,
        "nextCursor":"WerZxc"
    },
     "post":[...]
}
```

- 응답받은 페이지네이션 정보에 다음 Cursor의 값도 전달해준다. 
- 그리고 다음 페이지를 불러 올때는,

<br/>

#### 3) Request

```
GET https://example.com/posts?Cursor=WerZxc&limit10
```

- `커서 데이터` 이후로 10개를 보내달라는 의미이다. 

<br/>

### 04.1.3. 오프셋 기반과 커서 기반의 차이

- 오프셋 기반과는 다르게 커서 기반의 페이지네이션을 적용한다면, 데이터가 바뀌더라도 중복된 데이터나 빠진 데이터없이 불러올 수 있다.
  - 커서가 가리키는 데이터는 변함이 없기 때문이다 .
- 하지만, 서버의 입장에서는 커서 기반이 오프셋 기반보다 만들기 까다롭고, 데이터가 자주 바뀌는 것이 아니라면, 오프셋 기반도 충분하다.

<br/>

## 04.2. 정리

### 04.2.1. 페이지네이션 (Pagination)

- 오프셋 기반 = 받아온 개수 기준
- 커서 기반 = 데이터를 가리키는 커서 기준